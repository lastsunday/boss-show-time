!function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};let n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}(),function(){function e(e){let t=new CustomEvent(e,{detail:this});window.dispatchEvent(t)}let t=window.XMLHttpRequest;if(!t)return console.error("不支持 XMLHttpRequest！ 请更换最新的 chrome 浏览器");window.XMLHttpRequest=function(){let n=new t;n.addEventListener("abort",(function(){e.call(this,"ajaxAbort")}),!1),n.addEventListener("error",(function(){e.call(this,"ajaxError")}),!1),n.addEventListener("load",(function(){e.call(this,"ajaxLoad")}),!1),n.addEventListener("loadstart",(function(){e.call(this,"ajaxLoadStart")}),!1),n.addEventListener("progress",(function(){e.call(this,"ajaxProgress")}),!1),n.addEventListener("timeout",(function(){e.call(this,"ajaxTimeout")}),!1),n.addEventListener("loadend",(function(){e.call(this,"ajaxLoadEnd")}),!1),n.addEventListener("readystatechange",(function(t){e.call(this,"ajaxReadyStateChange")}),!1);let a=n.send;n.send=function(...t){a.apply(n,t),n.body=t[0],e.call(n,"ajaxSend")};let s=n.open;n.open=function(...t){s.apply(n,t),n.method=t[0],n.orignUrl=t[1],n.async=t[2],e.call(n,"ajaxOpen")};let o=n.setRequestHeader;return n.requestHeader={},n.setRequestHeader=function(e,t){n.requestHeader[e]=t,o.call(n,e,t)},n}}(),window.addEventListener("ajaxReadyStateChange",(function(e){let t=e.detail;const n={response:t?.response,responseType:t?.responseType,responseURL:t?.responseURL,status:t?.status,statusText:t?.statusText,readyState:t?.readyState,withCredentials:t?.withCredentials};if(4==t?.readyState&&200==t?.status){let e=new CustomEvent("ajaxGetData",{detail:n});window.dispatchEvent(e)}}));
//# sourceMappingURL=proxyAjax.js.map