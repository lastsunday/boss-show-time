(()=>{"use strict";let e;chrome.runtime.onInstalled.addListener((()=>{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0})})),async function(n){var r;await(chrome.offscreen.hasDocument?.())||(e?await e:(e=chrome.offscreen.createDocument({url:chrome.runtime.getURL("offscreen.html"),reasons:[chrome.offscreen.Reason.WORKERS||chrome.offscreen.Reason.BLOBS],justification:"To run web worker to run sqlite"}),await e,e=null),chrome.runtime.onConnect.addListener((function(e){r=e,e.onMessage.addListener((function(e){var n;e.action,e.callbackId,e.error,n=e,chrome.runtime.sendMessage({type:"bridge",target:"offscreen",data:n}),e.action,e.callbackId,e.error}))})),chrome.runtime.onMessage.addListener((e=>{var n=e.data;n.action,n.callbackId,n.error,function(e){r.postMessage(e)}(n),n.action,n.callbackId,n.error})))}()})();
//# sourceMappingURL=background.js.map