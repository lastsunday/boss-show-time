(()=>{"use strict";let e;chrome.runtime.onInstalled.addListener((()=>{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0})})),async function(n){var r;await(chrome.offscreen.hasDocument?.())||(e?await e:(e=chrome.offscreen.createDocument({url:chrome.runtime.getURL("offscreen.html"),reasons:[chrome.offscreen.Reason.WORKERS||chrome.offscreen.Reason.BLOBS],justification:"To run web worker to run sqlite"}),await e,e=null),chrome.runtime.onConnect.addListener((function(e){r=e,e.onMessage.addListener((function(e){var n;JSON.stringify(e),n=e,chrome.runtime.sendMessage({type:"bridge",target:"offscreen",data:n}),JSON.stringify(e)}))})),chrome.runtime.onMessage.addListener((e=>{var n=e.data;JSON.stringify(n),function(e){r.postMessage(e)}(n),JSON.stringify(n)})))}()})();
//# sourceMappingURL=background.js.map